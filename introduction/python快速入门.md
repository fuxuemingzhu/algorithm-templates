# Python å¿«é€Ÿå…¥é—¨

æœ¬æ–‡è®²è§£åˆ·é¢˜æ—¶ä¼šç”¨åˆ°çš„ Python è¯­æ³•ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ã€å¾ªç¯ã€å¸¸ç”¨å‡½æ•°ã€‚

**é€‚åˆäººç¾¤**ï¼š

- é›¶åŸºç¡€ã€æƒ³å¿«é€Ÿå­¦ä¹  Python çš„åŒå­¦ã€‚

æ›´è¯¦ç»†çš„è®²è§£å»ºè®®çœ‹[å»–é›ªå³°å®˜æ–¹ç½‘ç«™çš„ Pythonæ•™ç¨‹](https://www.liaoxuefeng.com/wiki/1016959663602400)ï¼Œåªç”¨çœ‹åˆ°ã€Œé«˜çº§ç‰¹æ€§ã€å³å¯ï¼Œåé¢çš„å‡½æ•°å¼ç¼–ç¨‹ã€ç½‘ç»œã€æ­£åˆ™ç­‰å¯ä»¥ä¸çœ‹ã€‚

æœ¬æ–‡ä¹Ÿæ˜¯åœ¨å»–é›ªå³° Python æ•™ç¨‹çš„åŸºç¡€ä¸Šï¼Œåšäº†æ€»ç»“ã€ç²¾ç‚¼å†™å‡ºçš„ï¼Œæ›´é€‚åˆåˆ·é¢˜å…¥é—¨ã€‚

## åŸºæœ¬æ•°æ®ç±»å‹

### å­—ç¬¦ä¸² str

#### Tips

- ç®—æ³•é¢˜ä¸­çš„å­—ç¬¦ä¸²åŸºæœ¬éƒ½æ˜¯è‹±æ–‡å­—ç¬¦ã€æ•°å­—ã€æ ‡ç‚¹ï¼Œå› æ­¤ä¸ä¼šæ¶‰åŠä¸­æ–‡ä¸ç¼–ç é—®é¢˜ï¼›

- ä¸ C++/Java ä¸åŒï¼ŒPython ä¸­æ²¡æœ‰ã€Œå­—ç¬¦ charã€ç±»å‹ï¼›
- ç”¨`''`æˆ–è€…`""`è¡¨ç¤ºã€‚

#### é•¿åº¦

```python
>>> len('ABC')
3
```

#### ä¸‹æ ‡

ä¸‹æ ‡æ˜¯ä» 0 å¼€å§‹çš„ã€‚

```python
>>> a = 'ABC'
>>> a[1]
'B'
```

ä¸‹æ ‡å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºå€’æ•°ç¬¬å‡ ä¸ªå­—ç¬¦ã€‚

```python
>>> a = 'ABC'
>>> a[-1]
'C'
```

#### åˆ‡ç‰‡

åˆ‡ç‰‡æ˜¯ç”¨æ¥å–ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„éƒ¨åˆ†å…ƒç´ ã€‚

åˆ‡ç‰‡è¡¨ç¤ºçš„åŒºé—´æ˜¯æ˜¯å·¦é—­å³å¼€ï¼Œå³`[x, y)`ã€‚

`a[1:3]`å«ä¹‰æ˜¯å– `a`çš„ç¬¬ 1 ä¸ªå…ƒç´ ï¼ˆåŒ…å«ï¼‰åˆ°ç¬¬ 3 ä¸ªå…ƒç´ ï¼ˆä¸åŒ…å«ï¼‰ï¼Œå³ `a[1]`, `a[2]`å…±ä¸¤ä¸ªå…ƒç´ ã€‚

```python
>>> a = "abcdef"
>>> a[1:3]
'bc'
```

å½“ä¸å†™åˆ‡ç‰‡çš„èµ·å§‹ä½ç½®ï¼Œè¡¨ç¤ºä»ç¬¬ `0`ä¸ªå…ƒç´ å¼€å§‹ã€‚

```python
>>> a = "abcdef"
>>> a[:3]
'abc'
```

å¦‚æœä¸å†™åˆ‡ç‰‡çš„ç»“æŸä½ç½®ï¼Œè¡¨ç¤ºè¯»å–åˆ°æœ€åä¸€ä¸ªå…ƒç´ ã€‚

```python
>>> a = "abcdef"
>>> a[3:]
'def'
```

#### æ‹¼æ¥

```python
>>> a = "abcdef"
>>> b = "xyz"
>>> a + b
'abcdefxyz'
```

#### ä¿®æ”¹

python çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œä¸æ”¯æŒä¿®æ”¹ã€‚

```python
>>> a = "abcdef"
>>> a[1] = "g"
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'str' object does not support item assignment
```

#### å­—ç¬¦ä¸ ASCII ç ç›¸äº’è½¬æ¢

ä½¿ç”¨åœºæ™¯ï¼š

- å‡å¦‚å®šä¹‰äº†ä¸€ä¸ªå¤§å°ä¸º 26 çš„æ•°ç»„ï¼Œæ¯ä¸ªä½ç½®ä¿å­˜ä¸€ä¸ªå°å†™è‹±æ–‡å­—ç¬¦å‡ºç°çš„ä¸ªæ•°ã€‚
  - åˆ™ `ord('x') - ord('a')` å°±æ˜¯å­—ç¬¦ `x` åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚
  - åˆ™ `chr(ord('a') + 1)` è¡¨ç¤ºæ•°ç»„ä¸‹æ ‡ 1 å¯¹åº”çš„å­—ç¬¦ï¼Œå³ `'b'`ã€‚

```python
>>> ord('A')
65
>>> chr(66)
'B'
```

### åˆ—è¡¨ list

#### Tips

- Python ä¸­çš„åˆ—è¡¨ list æ˜¯ä¸€ç§**æœ‰åºåˆ—è¡¨**ï¼Œåº•å±‚ç”¨æ•°ç»„å®ç°çš„ï¼Œç›¸å½“äº Java çš„ ArrayList æˆ–è€… C++ çš„ vectorï¼›
- åœ¨åˆ·é¢˜ä¸­**éå¸¸å¸¸ç”¨**ï¼Œæ—¢å¯ä»¥å½“åšæ™®é€šæ•°ç»„ï¼Œä¹Ÿå¯ä»¥å½“åšå¯å˜é•¿åº¦çš„æ•°ç»„ï¼Œè¿˜å¯ä»¥å½“åšæ ˆï¼›
- æ³¨æ„ï¼šä¸€èˆ¬ä¸æŠŠåˆ—è¡¨ list å½“åšé˜Ÿåˆ—ä½¿ç”¨ï¼Œå› ä¸ºå¼¹å‡ºå…¶å¼€å¤´å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(N)$ ã€‚
- ç”¨ä¸­æ‹¬å· `[]` è¡¨ç¤ºï¼›

#### é•¿åº¦ã€ä¸‹æ ‡ã€åˆ‡ç‰‡ã€æ‹¼æ¥

å‡ä¸å­—ç¬¦ä¸²çš„æ“ä½œç›¸åŒã€‚

```python
>>> a = [1, 2, 3]
>>> len(a)
3
>>> a[1]
2
>>> a[-1]
3
>>> a[:2]
[1, 2]
>>> b = [4, 5]
>>> a + b
[1, 2, 3, 4, 5]
```

#### ä¿®æ”¹

åˆ—è¡¨æ˜¯å¯å˜å¯¹è±¡ï¼Œå¯ä»¥ä¿®æ”¹ã€‚

```python
>>> a = [1, 2, 3]
>>> a[0] = 100
>>> a
[100, 2, 3]
```

#### æ·»åŠ 

åœ¨æœ«å°¾å¢åŠ å…ƒç´ ï¼Œä½¿ç”¨ `append(x)` æ–¹æ³•ã€‚

**æ³¨æ„**ï¼š`append(x)` æ˜¯åŸåœ°æ“ä½œï¼Œæ²¡æœ‰è¿”å›å€¼ï¼

```python
>>> a = [1, 2, 3]
>>> a.append(4)
>>> a
[1, 2, 3, 4]
```

#### åˆ é™¤

å¼¹å‡ºæœ«å°¾çš„å…ƒç´ ï¼Œä½¿ç”¨ `pop()`æ–¹æ³•ã€‚

**æ³¨æ„**ï¼š`pop()`æ˜¯åŸåœ°æ“ä½œï¼Œå…¶è¿”å›å€¼æ˜¯å¼¹å‡ºçš„å€¼ï¼

```python
>>> a = [1, 2, 3]
>>> a.pop()
3
>>> a
[1, 2]
```

### å…ƒç»„ tuple

#### Tips

- Python ä¸­çš„å…ƒç»„ tuple ä¹Ÿæ˜¯ä¸€ç§æœ‰åºåˆ—è¡¨ï¼Œä¸åˆ—è¡¨ list ååˆ†ç±»ä¼¼ï¼Œå”¯ä¸€ä¸åŒæ˜¯å…ƒç»„ tuple åˆå§‹åŒ–ä¹‹åå°±ä¸èƒ½å†ä¿®æ”¹ï¼›

- ç”¨å°æ‹¬å· `()` è¡¨ç¤º

#### é•¿åº¦ã€ä¸‹æ ‡ã€åˆ‡ç‰‡ã€æ‹¼æ¥

ä¸å­—ç¬¦ä¸²ã€åˆ—è¡¨ç›¸åŒã€‚

```python
>>> a = (1, 2, 3)
>>> len(a)
3
>>> a[1]
2
>>> a[-1]
3
>>> a[:2]
(1, 2)
>>> b = (4, 5)
>>> a + b
(1, 2, 3, 4, 5)
```

#### ä¿®æ”¹

ä¸æ”¯æŒä¿®æ”¹

```python
>>> a[0] = 4
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'tuple' object does not support item assignment
```

#### é€‚ç”¨åœºæ™¯

- å…ƒç»„ tuple ç”±äºæœ‰ä¸å¯å˜ç‰¹æ€§ï¼Œå› æ­¤å¯ä»¥ç”¨ä½œå­—å…¸çš„ keyã€‚ï¼ˆè€Œåˆ—è¡¨ list ä¸è¡Œï¼‰

### å­—å…¸ dict

#### Tips

- Python ä¸­çš„å­—å…¸ dict å°±æ˜¯å“ˆå¸Œè¡¨ï¼Œç›¸å½“äº Java ä¸­çš„ HashMap æˆ–è€… C++ ä¸­çš„ unordered_mapï¼›

- ç”¨å¤§æ‹¬å· `{}`è¡¨ç¤ºï¼Œæ¯ä¸ªé”®å€¼ç”¨å†’å· `:` åˆ†éš”ã€‚

#### å…ƒç´ ä¸ªæ•°

```python
>>> a = {"a" : 1, "b" : 3, "c" :9}
>>> len(a)
3
```

#### æ·»åŠ /è¦†ç›–

å¦‚æœå­—å…¸ä¸­å·²ç»æœ‰è¿™ä¸ª keyï¼Œé‚£ä¹ˆä¼šè¦†ç›–ï¼›å¦åˆ™æ˜¯æ–°å¢ã€‚

```python
>>> a = {"a" : 1, "b" : 3, "c" :9}
>>> a["d"] = 100
>>> a["b"] = 666
>>> a
{'a': 1, 'c': 9, 'b': 666, 'd': 100}
```

#### åˆ é™¤

å¯ä»¥ä½¿ç”¨ `pop()`æ–¹æ³•æˆ–è€… `del`å…³é”®å­—ï¼Œçœ‹ä¸ªäººä¹ æƒ¯ã€‚

```python
>>> a = {"a" : 1, "b" : 3, "c" :9}
>>> a.pop("c")
9
>>> a
{'a': 1, 'b': 3}
>>> del a["b"]
>>> a
{'a': 1}
```

#### è·å–æ‰€æœ‰çš„é”®/å€¼

å¯ä»¥é€šè¿‡ `keys()` æ–¹æ³•è·å–å­—å…¸ä¸­å­˜å‚¨çš„æ‰€æœ‰çš„é”®ã€‚

å¯ä»¥é€šè¿‡ `values()` æ–¹æ³•è·å–å­—å…¸ä¸­å­˜å‚¨çš„æ‰€æœ‰çš„å€¼ã€‚

```python
>>> a = {"a" : 1, "b" : 3, "c" :9}
>>> a.keys()
['a', 'c', 'b']
>>> a.values()
[1, 9, 3]
>>> a.items()
[('a', 1), ('c', 9), ('b', 3)]
```

### é›†åˆ set

#### Tips

- Python ä¸­çš„é›†åˆ set å°±æ˜¯å“ˆå¸Œé›†åˆï¼Œç›¸å½“äº Java ä¸­çš„ HashSet æˆ–è€… C++ ä¸­çš„ unordered_setï¼›
- ç”¨å¤§æ‹¬å· `{}`è¡¨ç¤ºã€‚
- åˆå§‹åŒ–çš„æ—¶å€™ä¸èƒ½ç”¨`{}`ï¼Œå› ä¸º `{}`è¡¨ç¤ºç©ºçš„å­—å…¸ã€‚

#### å…ƒç´ ä¸ªæ•°

```python
>>> a = {1, 2, 3}
>>> len(a)
3
```

#### æ·»åŠ 

é›†åˆä¼šè‡ªåŠ¨å»é‡ã€‚

**æ³¨æ„**ï¼š`remove` æ˜¯åŸåœ°æ“ä½œï¼Œæ²¡æœ‰è¿”å›å€¼ï¼

```python
>>> a = {1, 2, 3}
>>> a.add(4)
>>> a
set([1, 2, 3, 4])
>>> a.add(3)
>>> a
set([1, 2, 3, 4])
```

#### åˆ é™¤

å¯ä»¥ä½¿ç”¨ `remove()`æ–¹æ³•ã€‚

**æ³¨æ„**ï¼š`remove` æ˜¯åŸåœ°æ“ä½œï¼Œæ²¡æœ‰è¿”å›å€¼ï¼

```python
>>> a = {1, 2, 3}
>>> a.remove(3)
>>> a
set([1, 2])
```

## å¾ªç¯

### for

for å¾ªç¯åŸºæœ¬æœ‰ä¸¤ä¸ªä½œç”¨ï¼š

- è®©ä¸€æ®µä»£ç æ‰§è¡Œå¤šæ¬¡ï¼›
- éå†æŸä¸ªæ•°æ®ç»“æ„ã€‚

#### è®©ä¸€æ®µä»£ç æ‰§è¡Œå¤šæ¬¡

å¸¸è§çš„ä½¿ç”¨åœºæ™¯ï¼š

- æ¨è¾‰ä¸‰è§’ï¼›
- åŠ¨æ€è§„åˆ’ï¼›

```python
>>> for i in range(10):
...     print(i)
... 
0
1
2
3
4
5
6
7
8
9
```

#### éå†æŸä¸ªæ•°æ®ç»“æ„

å¯ä»¥å¯¹åˆ—è¡¨ listã€å…ƒç»„ tupleã€å­—å…¸ dictã€é›†åˆ set è¿›è¡Œéå†ã€‚

åˆ—è¡¨ list /å…ƒç»„ tuple çš„ for éå†æ˜¯æŒ‰ç…§ä¸‹æ ‡çš„é¡ºåºçš„ï¼Œä¸‹é¢çš„ä»£ç  `i` æ˜¯ `a`ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚

```python
>>> a = [1, 2, 3]
>>> for i in a:
...     print(i)
... 
1
2
3
```

å­—å…¸ dict çš„éå†æ˜¯å¯¹å…¶å­˜å‚¨çš„ key çš„éå†ã€‚éå†æ˜¯æ— åºçš„ã€‚

```python
>>> a = {"a" : 1, "b" : 3, "c" :9}
>>> for i in a:
...     print(i)
... 
a
c
b
```

é›†åˆ set çš„éå†æ˜¯æ— åºçš„ã€‚

```python
>>> a = {"3", "4", "1", "2"}
>>> for i in a:
...     print(i)
... 
1
3
2
4
```

**æ³¨æ„**ï¼šä¸è¦åœ¨å¾ªç¯ä¸­ä¿®æ”¹æ­£åœ¨éå†çš„æ•°æ®ç»“æ„ï¼

**é”™è¯¯åšæ³•**ï¼š

```python
>>> a = {"3", "4", "1", "2"}
>>> for i in a:
...     if i == "1":
...         a.remove(i)
... 
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
RuntimeError: Set changed size during iteration
```

### while

ç›¸æ¯”äº for å¾ªç¯ï¼Œwhile å¾ªç¯æ›´å¸¸ç”¨äºä¸ç¡®å®šå¾ªç¯æ¬¡æ•°çš„çš„æƒ…å†µï¼šã€Œæ»¡è¶³æŸç§æ¡ä»¶ã€ã€ã€Œä¸æ»¡è¶³æŸç§æ¡ä»¶ã€ç­‰åœºæ™¯ã€‚

æ¯”å¦‚å¹¿åº¦ä¼˜å…ˆéå† BFS ä¸­ä¼šä½¿ç”¨ while å¾ªç¯ã€‚

ä¸¾ä¾‹ï¼š [102. äºŒå‰æ ‘çš„å±‚åºéå†](https://leetcode-cn.com/problems/binary-tree-level-order-traversal/) ï¼Œä½¿ç”¨ BFS è§£å†³ï¼Œå‚è€ƒä»£ç ä¸­åŒæ—¶ç”¨åˆ°äº† while å’Œ forï¼Œå¯ä»¥ä½“ä¼šä¸‹ä¸¤è€…çš„ä½¿ç”¨åœºæ™¯ã€‚

```python
# Definition for a binary tree node.
# class TreeNode(object):
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution(object):
    def levelOrder(self, root):
        queue = collections.deque()
        queue.append(root)
        res = []
        while queue:
            size = len(queue)
            level = []
            for _ in range(size):
                cur = queue.popleft()
                if not cur:
                    continue
                level.append(cur.val)
                queue.append(cur.left)
                queue.append(cur.right)
            if level:
                res.append(level)
        return res
```

ä¸Šé¢çš„ä»£ç ä¸­ä½¿ç”¨äº† `while queue` è¿™æ ·çš„å†™æ³•ï¼Œç›¸å½“äº `while len(queue) != 0`ã€‚

## å¸¸ç”¨å‡½æ•°

### abs

`abs()` å‡½æ•°ç”¨äºæ±‚ä¸€ä¸ªæ•°å€¼çš„ç»å¯¹å€¼ã€‚

```python
>>> abs(-100)
100
>>> abs(-66.6)
66.6
```

### min/max

`min()` / `max() `ç”¨äºæ±‚ä¸€ä¸ªåˆ—è¡¨ listã€å…ƒç»„ tupleã€é›†åˆ set æ‰€æœ‰å…ƒç´ çš„æœ€å°å€¼/æœ€å¤§å€¼ã€‚

```python
>>> a = [1, 2, 3]
>>> min(a)
1
>>> a = {3, 4, 1, 2}
>>> max(a)
4
```

### sum

`sum()` å‡½æ•°ç”¨äºæ±‚ä¸€ä¸ªåˆ—è¡¨ listã€å…ƒç»„ tupleã€é›†åˆ set æ‰€æœ‰å…ƒç´ çš„å’Œã€‚

```python
>>> a = [1, 2, 3]
>>> sum(a)
6
>>> a = {3, 4, 1, 2}
>>> sum(a)
10
```

### int/float/str

`int()` / `float()` / `str()` ç”¨äºæ•°æ®ç±»å‹è½¬æ¢ã€‚

`int()` å‡½æ•°å¯ä»¥å°†å­—ç¬¦ä¸²ã€æµ®ç‚¹æ•°è½¬æˆæ•´å‹ã€‚

```python
>>> int("123")
123
>>> int("-123")
-123
>>> int(23.4)
23
>>> int(-23.4)
-23
```

`float()` å‡½æ•°å¯ä»¥å°†å­—ç¬¦ä¸²ã€æ•´å‹è½¬æˆæµ®ç‚¹æ•°ã€‚

```python
>>> float("123.4")
123.4
>>> float(123)
123.0
```

`str()` å‡½æ•°å¯ä»¥å°†æ•´å‹ã€æµ®ç‚¹æ•°è½¬æˆå­—ç¬¦ä¸²ã€‚

```python
>>> str(123)
'123'
>>> str("123.4")
'123.4'
```

æœ‰äº›é¢˜ç›®ä¸­ï¼Œå°†æ•°æ®ç±»å‹è½¬æ¢ä¹‹ååšèµ·æ¥æ›´ç®€å•ã€‚æ¯”å¦‚[7. æ•´æ•°åè½¬](https://leetcode-cn.com/problems/reverse-integer/)ï¼Œå¯ä»¥å†™å‡ºä¸‹é¢è¿™ç§éå¸¸ç‹—ğŸ¶çš„å†™æ³•ï¼š

```python
class Solution(object):
    def reverse(self, x):
        if x == 0: return 0
        flag = 1
        if x < 0:
            flag = -1
            x = -x
        r = int(str(x)[::-1]) # å…ˆè½¬æˆå­—ç¬¦ä¸²ï¼Œç¿»è½¬å­—ç¬¦ä¸²ï¼Œç„¶åå†è½¬æˆæ•´æ•°
        if flag == 1 and r <= 2147483647:
            return r
        elif flag == -1 and -r >= -2147483648:
            return -r
        return 0
```

ä½†æ˜¯ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸ºæœ‰ç‚¹ç±»ä¼¼äºä½œå¼Šã€‚

### bin

`bin()` æ˜¯è·å–æ•´æ•°çš„äºŒè¿›åˆ¶ï¼Œç”¨å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

æ³¨æ„ï¼š`bin()`å‡½æ•°ç»“æœçš„å‰ä¸¤ä½æ°¸è¿œæ˜¯ `0b`ï¼ŒçœŸæ­£çš„äºŒè¿›åˆ¶éœ€è¦æŠŠå‰ä¸¤ä½å»æ‰ã€‚

```python
>>> bin(10)
'0b1010'
```

äºŒè¿›åˆ¶è½¬åè¿›åˆ¶æ€ä¹ˆè½¬å‘¢ï¼Ÿä½¿ç”¨ `int`å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å¡« 2ï¼Œè¡¨ç¤ºæ˜¯è¦æŠŠäºŒè¿›åˆ¶è½¬åè¿›åˆ¶ã€‚

```python
>>> int("1010", 2)
10
```

## é«˜çº§å‡½æ•°

ä¸‹é¢çš„å‡ ä¸ªé«˜çº§å‡½æ•°ä½ å¯èƒ½åœ¨ç®—æ³•é¢˜è§£ä¸­é‡åˆ°ï¼Œä½†å¹¶ä¸æ˜¯åˆ·é¢˜å¿…ä¼šçš„ï¼Œä½ å®Œå…¨å¯ä»¥ç”¨ for å¾ªç¯å®ç°å®ƒä»¬ã€‚

è¿™äº›å‡½æ•°å­˜åœ¨çš„æ„ä¹‰æ˜¯ç®€åŒ–ä»£ç ã€‚

### map

`map()`å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯è¿­ä»£å¯¹è±¡ã€‚

`map()`å‡½æ•°è‡ªåŠ¨æŠŠå‡½æ•°ä½œç”¨åˆ°å¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼›è¿”å›å€¼çš„å…ƒç´ ä¸ªæ•°å’Œè¾“å…¥çš„å¯è¿­ä»£å¯¹è±¡ä¸ªæ•°ç›¸ç­‰ã€‚

æ³¨æ„ï¼šPython2 å’Œ Python3 çš„ `map()`å‡½æ•°è¿”å›å€¼ç±»å‹ä¸åŒã€‚

- Python2 çš„ `map()` å‡½æ•°è¿”å›çš„æ˜¯ä¸ªåˆ—è¡¨ listï¼›
- Python3 çš„ `map()` å‡½æ•°è¿”å›çš„æ˜¯ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæƒ³è¦å˜æˆ list éœ€è¦æŠŠç»“æœä¼ å…¥ `list()`å‡½æ•°ã€‚

ä¸‹é¢æ˜¯ä¸ªæ±‚å¹³æ–¹çš„ä¾‹å­ï¼Œæ³¨æ„è¿”å›å€¼ `r` çš„ç±»å‹ã€‚

Python2ï¼š

```python
>>> def f(x):
...     return x * x
...
>>> r = map(f, {1, 2, 3, 4, 5, 6, 7, 8, 9})
>>> r
[1, 4, 9, 16, 25, 36, 49, 64, 81]
```

Python3ï¼š

```python
>>> def f(x):
...     return x * x
...
>>> r = map(f, [1, 2, 3, 4, 5, 6, 7, 8, 9])
>>> r
<map object at 0x7fb83803ca30>
>>> list(r)
[1, 4, 9, 16, 25, 36, 49, 64, 81]
```

### reduce

`reduce()` å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯è¿­ä»£å¯¹è±¡ã€‚

ä¸ `map()` å‡½æ•°ä¸åŒçš„æ˜¯ï¼Œ`reduce()` çš„ç¬¬ä¸€ä¸ªå‡½æ•°éœ€è¦æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚

`reduce()`çš„ä½œç”¨æ˜¯æŠŠå¯è¿­ä»£å¯¹è±¡çš„å‰ä¸¤ä¸ªå…ƒç´ ä½œä¸ºå‡½æ•°çš„è¾“å…¥ï¼Œè®¡ç®—å¾—åˆ°çš„ç»“æœ ä¸ åºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ å½“åšå‡½æ•°çš„ä¸¤ä¸ªè¾“å…¥è¿›è¡Œè®¡ç®—â€¦â€¦ä¾æ¬¡é€’æ¨ï¼Œç›´è‡³å…¨éƒ¨å…ƒç´ éƒ½å¤„ç†å®Œã€‚

`reduce()`å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå€¼ã€‚

å…¶æ•ˆæœå°±æ˜¯ï¼š

```python
reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)
```

ä½¿ç”¨`reduce()`è¿›è¡Œæ±‚å’Œçš„ä¾‹å­ï¼š

```python
>>> def add(x, y):
...     return x + y
...
>>> reduce(add, [1, 3, 5, 7, 9])
25
```



çœ‹åˆ°è¿™é‡Œï¼Œä½ å·²ç»åŸºæœ¬ä¸ŠæŒæ¡äº† Python çš„å¸¸è§è¯­æ³•ã€‚

Python çš„è¯­æ³•éå¸¸ç®€å•ï¼Œå°¤å…¶æ“…é•¿å­—ç¬¦ä¸²å¤„ç†ï¼Œå®¹æ˜“å¿«é€Ÿä¸Šæ‰‹ã€‚

æœ¬æ–‡æ²¡æœ‰è®²è§£ Python ä¸­ä¸ç®—æ³•æœ‰å…³çš„å‡½æ•°â€”â€”å°†åœ¨ç¬¬äºŒç« ã€ŒPython åˆ·é¢˜æ‰‹å†Œã€ä¸­è®²è§£ã€‚



å‚è€ƒèµ„æ–™ï¼š

1. [å»–é›ªå³°å®˜æ–¹ç½‘ç«™çš„ Pythonæ•™ç¨‹](https://www.liaoxuefeng.com/wiki/1016959663602400)
